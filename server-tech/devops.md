# DevOps

## 什么叫DevOps?

DevOps（英文Development和Operations的组合）是一组过程、方法与系统的统称，用于促进开发（应用程序/软件工程）、运维和质量保障（QA）部门之间的沟通、协作与整合。它的出现是由于软件行业日益清晰地认识到：为了按时交付软件产品和服务，开发和运维工作必须紧密合作。

这是一个比较书面理论化的对于DevOps的定义。其实通俗来说，DevOps就是融合开发和运维，更好地协同工作。

通常的一个流程，一个开发工程师开发完成一个系统，部署的任务需要交给运维工程师来做。这样会有一个显而易见的问题。由于要经受多个人，那么任何一个中间人都会成为瓶颈从而影响整个流程。如果系统采用了新的技术而运维却没接触过，也很容易造成发布的不顺利或者失败。

这里面的两个关键角色就是开发和运维，为什么是这两个角色呢？因为典型的价值流就是位于业务（定义需求）和客户（交付价值）之间。

这两者的矛盾促使了DevOps概念的提出。DevOps不仅仅是一种软件的部署方法。它通过一种全新的方式，来思考如何让软件的作者（开发部门）和运营者（运营部门）进行合作与协同。使用了DevOps模型之后，会使两个部门更好的交互，使两者的关系得到改善，从而让很多领域从中受益，例如：自动化、监视、能力规划和性能、备份与恢复、安全、网络以及服务提供（provisioning）等等。

## 开发在DevOps中的角色

在DevOps中开发扮演的角色仍然是最关键的。但一般意义上一个系统的整个流程仍需要运维的大量参与。而我所理解的或者说我认为更好的一种方式就是开发能够兼职运维的角色，承担一部分部署责任，这样能够更好地保证系统的部署和发布。所以，在这一点上开发应该具有运维的一部分技能，能够承担一部分运维的责任。

## DevOps工具

上面说到开发应该具有一部分运维技能，那么哪些运维技能需要开发人员掌握呢？这里罗列一些常用运维“武器”。包括：

- Git
- Maven

### 1. Git

Git是一个版本管理工具，它与SVN的对比网上到处都是，这里就不再废话它那些耀眼的优点了。记得以前要搭建Git库来给研发使用是非常复杂的一件事情。需要在服务器上安装git，然后创建用户->分配权限...等一系列复杂操作来搭建一个Git环境。相关链接：[http://srhang.iteye.com/blog/1339110](http://srhang.iteye.com/blog/1339110)。面对这些复杂的操作步骤以及Git本身上手的门槛，，很多人望而却步，造成了Git并没有那么普及的状况。

一切从Github横空出世开始改变了，这个看似简单的网站给很多人带来了简单极致方便的代码托管服务，同时也给全世界带来了一股开源的风潮。很多初创公司或者小公司直接选择使用github建立自己的代码仓库。

与此同时，许多Github的开源实现层出不穷，如今你只需要下载一个类似的实现，部署到服务器上，你就能简单拥有你自己的"Github"。

目前比较知名的Github实现，有这么几个：

- gitlab(Ruby on rails实现)
- gitbucket(Scala实现)
- Gitblit(Java实现)

更多的可以见：[http://www.educity.cn/shenghuo/1397399.html](http://www.educity.cn/shenghuo/1397399.html)

其中，gitlab应该是名气最大的一个。但是自从用过gitbucket以后，，却也再也不想回到gitlab了。基于Scala编写，极易安装，扔一个war包到tomcat就完成部署，完全可以和其他如maven、jenkins并存在一个JavaEE容器中。另外，Scala这个JVM语言相比起ROR来，对于我这种Java系来说也显得亲切的很。如果那个功能用的不爽完全可以自己去二次开发一下。

Git服务器的部署可以用这些开源实现完成，但是Git客户端的使用却是另一个比较高门槛的事情。和svn原理的不同，造成了很多人从svn转换到git时，摸不着头脑，然后退缩放弃。

一个典型的Git客户端使用流程：

- git clone [repository url]:克隆项目的git地址
- git checkout [branchName]: 切换项目分支
- git add [fileName]: 增加或改动了一些文件
- git commit -a/-m: 提交文件到本地
- git push origin master: 提交到远程库
- git pull(git fetch && git merge): 从远程库更新代码并合并
- git revert [revisions]: 撤销操作
- git log -p [revision/filepath]: 查看提交历史
-

更具体的教程可以参见：[Gtibook](http://git-scm.com/book/en/v2)

### 2. Maven

刚开始学习写Java程序的时候，教程就是说写一个类，然后用javac编译，再用java运行。很简单的一个事情。但是如果是一个项目呢？很多的类，很多的包，如果是web工程还有很多jsp，很多资源文件。这时候如果还是只用java自带的那些东西，也就一些大神能搞定了的吧。

这时候就需要一个java工程组织工具，提供编译、打包等功能。用Eclipse和Intellij这些IDE固然能解决这个问题，但是maven确也是一个很强大的java项目组织软件，并且能够很好地与IDE进行集成。

那么，mavan的有点在哪里呢？


